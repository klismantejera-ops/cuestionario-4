<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cuestionario Hardware y Redes</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background-color: #f4f4f4;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    align-items: center;
  }
  .container {
    background: white;
    max-width: 600px;
    width: 90%;
    margin: 20px;
    padding: 25px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    border-radius: 8px;
  }
  h1, h2 {
    text-align: center;
    color: #333;
  }
  #start-btn, #next-btn {
    background-color: #007BFF;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 15px;
    width: 100%;
  }
  #start-btn:disabled {
    background-color: gray;
    cursor: not-allowed;
  }
  #question-container {
    margin-top: 20px;
  }
  .question {
    font-size: 1.2rem;
    margin-bottom: 15px;
  }
  .answers {
    display: flex;
    flex-direction: column;
  }
  .answer-btn {
    background-color: #e7e7e7;
    border: 1px solid #ddd;
    padding: 10px;
    margin: 5px 0;
    border-radius: 5px;
    cursor: pointer;
    text-align: left;
    font-size: 1rem;
  }
  .answer-btn:hover {
    background-color: #d6d6d6;
  }
  .selected {
    background-color: #b0d4ff;
  }
  @media (max-width: 480px) {
    .container {
      padding: 15px;
    }
    .question {
      font-size: 1rem;
    }
    #start-btn, #next-btn {
      font-size: 0.9rem;
      padding: 10px;
    }
  }
  #result-container {
    margin-top: 20px;
  }
  .correct {
    color: green;
  }
  .incorrect {
    color: red;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Cuestionario Hardware y Redes</h1>
  <label for="student-name">Nombre del estudiante:</label>
  <input type="text" id="student-name" placeholder="Escribe tu nombre" />
  <button id="start-btn" disabled>Iniciar cuestionario</button>

  <div id="question-container" class="hide">
    <div id="question" class="question"></div>
    <div id="answers" class="answers"></div>
    <button id="next-btn" disabled>Siguiente</button>
  </div>

  <div id="result-container" class="hide">
    <h2>Resultados</h2>
    <div id="score"></div>
    <div id="details"></div>
  </div>
</div>

<script>
  const startBtn = document.getElementById('start-btn');
  const nextBtn = document.getElementById('next-btn');
  const questionContainer = document.getElementById('question-container');
  const questionElem = document.getElementById('question');
  const answersElem = document.getElementById('answers');
  const studentNameInput = document.getElementById('student-name');
  const resultContainer = document.getElementById('result-container');
  const scoreElem = document.getElementById('score');
  const detailsElem = document.getElementById('details');

  // Banco de preguntas (al menos 5 preguntas)
  const questionBank = [
    {
      question: "¿Qué componente es el cerebro de un computador?",
      answers: [
        { text: "Disco duro", correct: false },
        { text: "Memoria RAM", correct: false },
        { text: "CPU (Procesador)", correct: true },
        { text: "Tarjeta de video", correct: false }
      ]
    },
    {
      question: "¿Cuál es la función principal de un switch en redes?",
      answers: [
        { text: "Conectar dispositivos dentro de una misma red local", correct: true },
        { text: "Enrutamiento entre diferentes redes", correct: false },
        { text: "Proveer direcciones IP", correct: false },
        { text: "Controlar el acceso a Internet", correct: false }
      ]
    },
    {
      question: "¿Qué es una dirección IP?",
      answers: [
        { text: "Un identificador único para un dispositivo en una red", correct: true },
        { text: "Un tipo de hardware de red", correct: false },
        { text: "Un protocolo de seguridad", correct: false },
        { text: "Un cable de datos", correct: false }
      ]
    },
    {
      question: "¿Qué tipo de cableado se usa comúnmente para redes LAN?",
      answers: [
        { text: "Cable coaxial", correct: false },
        { text: "Cable UTP (par trenzado)", correct: true },
        { text: "Cable HDMI", correct: false },
        { text: "Cable USB", correct: false }
      ]
    },
    {
      question: "¿Qué significa la sigla RAM en computación?",
      answers: [
        { text: "Memoria de acceso aleatorio", correct: true },
        { text: "Memoria de acceso rápido", correct: false },
        { text: "Memoria de almacenamiento", correct: false },
        { text: "Memoria de solo lectura", correct: false }
      ]
    },
    // Preguntas adicionales para sumar mínimo 10
    {
      question: "¿Qué es un firewall en redes?",
      answers: [
        { text: "Un dispositivo que protege la red controlando el tráfico", correct: true },
        { text: "Un tipo de software de edición", correct: false },
        { text: "Un componente hardware para procesar datos", correct: false },
        { text: "Un cable para redes inalámbricas", correct: false }
      ]
    },
    {
      question: "¿Qué puerto se utiliza comúnmente para conexiones HTTP?",
      answers: [
        { text: "Puerto 80", correct: true },
        { text: "Puerto 21", correct: false },
        { text: "Puerto 443", correct: false },
        { text: "Puerto 22", correct: false }
      ]
    },
    {
      question: "¿Qué tecnología permite conexiones inalámbricas en redes locales?",
      answers: [
        { text: "Wi-Fi", correct: true },
        { text: "Bluetooth", correct: false },
        { text: "Ethernet", correct: false },
        { text: "USB", correct: false }
      ]
    },
    {
      question: "¿Qué hace un router en una red?",
      answers: [
        { text: "Envía paquetes entre diferentes redes", correct: true },
        { text: "Almacena datos", correct: false },
        { text: "Proporciona electricidad", correct: false },
        { text: "Crea páginas web", correct: false }
      ]
    },
    {
      question: "¿Qué es un sistema operativo?",
      answers: [
        { text: "Un software que administra los recursos de hardware y software", correct: true },
        { text: "Un tipo de hardware", correct: false },
        { text: "Una red de computadoras", correct: false },
        { text: "Un programa para crear gráficos", correct: false }
      ]
    }
  ];

  let shuffledQuestions = [];
  let currentQuestionIndex = 0;
  let score = 0;
  let selectedAnswers = [];

  // Habilitar botón iniciar solo si hay nombre
  studentNameInput.addEventListener('input', () => {
    startBtn.disabled = studentNameInput.value.trim() === "";
  });

  startBtn.addEventListener('click', () => {
    score = 0;
    selectedAnswers = [];
    currentQuestionIndex = 0;
    resultContainer.classList.add('hide');
    questionContainer.classList.remove('hide');
    startBtn.classList.add('hide');
    studentNameInput.disabled = true;

    // Mezclar preguntas y seleccionar 10
    shuffledQuestions = [...questionBank].sort(() => Math.random() - 0.5).slice(0, 10);

    showQuestion();
  });

  nextBtn.addEventListener('click', () => {
    if(currentQuestionIndex < shuffledQuestions.length - 1) {
      currentQuestionIndex++;
      showQuestion();
    } else {
      showResults();
    }
  });

  function showQuestion() {
    resetState();
    let question = shuffledQuestions[currentQuestionIndex];
    questionElem.textContent = question.question;

    question.answers.forEach((answer, index) => {
      const button = document.createElement('button');
      button.classList.add('answer-btn');
      button.textContent = answer.text;
      button.dataset.correct = answer.correct;
      button.addEventListener('click', selectAnswer);
      answersElem.appendChild(button);
    });
  }

  function resetState() {
    nextBtn.disabled = true;
    while (answersElem.firstChild) {
      answersElem.removeChild(answersElem.firstChild);
    }
  }

  function selectAnswer(e) {
    const selectedBtn = e.target;
    const correct = selectedBtn.dataset.correct === "true";
    selectedAnswers[currentQuestionIndex] = correct;
    if(correct) score++;

    // Resaltar selección
    Array.from(answersElem.children).forEach(button => {
      button.classList.remove('selected');
      button.disabled = true;
      // Mostrar correcto o incorrecto
      if(button.dataset.correct === "true") {
        button.style.borderColor = "green";
      }
      if(button === selectedBtn && !correct) {
        button.style.borderColor = "red";
      }
    });

    selectedBtn.classList.add('selected');

    nextBtn.disabled = false;
  }

  function showResults() {
    questionContainer.classList.add('hide');
    resultContainer.classList.remove('hide');

    scoreElem.innerHTML = `<p>${studentNameInput.value}, obtuviste ${score} de ${shuffledQuestions.length} respuestas correctas.</p>`;
    detailsElem.innerHTML = "<h3>Detalle de respuestas:</h3><ul>";

    shuffledQuestions.forEach((q, i) => {
      const status = selectedAnswers[i] ? `<span class="correct">Correcto</span>` : `<span class="incorrect">Incorrecto</span>`;
      detailsElem.innerHTML += `<li><strong>Pregunta:</strong> ${q.question} — ${status}</li>`;
    });
    detailsElem.innerHTML += "</ul>";

    // Permitir reiniciar el cuestionario
    startBtn.textContent = "Reiniciar cuestionario";
    startBtn.disabled = false;
    startBtn.classList.remove('hide');
    studentNameInput.disabled = false;
    studentNameInput.value = "";
    nextBtn.disabled = true;
  }
</script>
</body>
</html>
